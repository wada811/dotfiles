#!/usr/local/bin/zsh

# Fix history
echo "homebrew"
cd /usr/local
git reset --hard @^
git pull --ff origin master

echo "homebrew-cask"
cd /usr/local/Library/Taps/caskroom/homebrew-cask/
git reset --hard @^
git pull --ff origin master

echo "homebrew-versions"
cd /usr/local/Library/Taps/caskroom/homebrew-versions/
git reset --hard @^
git pull --ff origin master

echo "homebrew-binary"
cd /usr/local/Library/Taps/homebrew/homebrew-binary/
git reset --hard @^
git pull --ff origin master

echo "homebrew-dupes"
cd /usr/local/Library/Taps/homebrew/homebrew-dupes/
git reset --hard @^
git pull --ff origin master

echo "font/ritcy"
cd /usr/local/Library/Taps/sanemat/homebrew-font/
git reset --hard @^
git pull --ff origin master

# Update HomeBrew
brew update

# Add Homebrew-binary
brew tap homebrew/binary

# Upgrade Formulas
brew upgrade

# Install HomebrewCask
brew tap caskroom/cask
brew tap caskroom/versions
brew install caskroom/cask/brew-cask

####################
# Install Packages #
####################

## Font
brew tap sanemat/font
brew install sanemat/font/ricty

## Shell
brew install zsh
brew install zsh-completions
brew install terminal-notifier
brew tap peco/peco
brew install peco

## Git
brew install git
brew install hub

## Blog
brew install hugo

## Android
brew install android-sdk
brew install android-ndk || (brew unlink android-ndk && brew install android-ndk)
brew install dex2jar
brew install jad

## Required
brew install readline
brew install openssl

## Ruby
brew install rbenv
brew install ruby-build
### For nokogiri
brew tap homebrew/dupes
brew install libiconv
brew install libxml2
brew install libxslt
brew link --force libxml2
brew link --force libxslt

## SQL
brew install mysql
brew install sqlite

## Utils
brew install tree
brew install jq
brew install rename
brew install figlet

## Image and Video
brew install imagemagick
brew install ffmpeg

########################
# Install Applications #
########################

## Terminal
brew cask install --appdir=/Applications iterm2

## Browser
brew cask install --appdir=/Applications google-chrome
brew cask install --appdir=/Applications firefox

## Editor
brew cask install --appdir=/Applications sublime-text3
brew cask install --appdir=/Applications coteditor

## IDE
# JDK6/JDK7 for Android Studio
brew cask install --appdir=/Applications java
brew cask install --appdir=/Applications java7
brew cask install --appdir=/Applications java6
brew cask install --appdir=/Applications android-studio

## Android
brew cask install --appdir=/Applications virtualbox
brew cask install --appdir=/Applications genymotion
brew cask install --appdir=/Applications jd-gui

## Utils
brew cask install --appdir=/Applications google-japanese-ime
brew cask install --appdir=/Applications dropbox
brew cask install --appdir=/Applications cyberduck
brew cask install --appdir=/Applications the-unarchiver
brew cask install --appdir=/Applications appcleaner
brew cask install --appdir=/Applications openoffice
brew cask install --appdir=/Applications gyazo
brew cask install --appdir=/Applications gimp
brew cask install --appdir=/Applications imageoptim
brew cask install --appdir=/Applications slack

# Remove outdated versions
brew cleanup
brew cask cleanup
